---
apiVersion: nfd.k8s-sigs.io/v1alpha1
kind: NodeFeatureRule
metadata:
  name: vlan-device
spec:
  rules:
    - # IOT VLAN
      name: vlan.iot
      labels:
        node.network-test-regex/vlan: "iot"
      matchFeatures:
        - feature: network.virtual
          matchExpressions:
            name: { op: InRegexp, value: ["\.20$"] }
#            name: { op: In, value: ["enp1s0.20"] }
#    - # Security VLAN
#      name: vlan.security
#      labels:
#        node.network/vlan: "security"
#      matchFeatures:
#        - feature: network.device
#          matchExpressions:
#            name: { op: In, value: ["enp1s0.40"] }
