---
apiVersion: kubeadm.k8s.io/v1beta3
kind: ClusterConfiguration
controlPlaneEndpoint: 192.168.6.1:6443
apiServer:
  extraArgs:
    authorization-mode: "Node,RBAC"
    "feature-gates": "ReadWriteOncePod=true"
  timeoutForControlPlane: 4m0s
controllerManager:
  extraArgs:
    "bind-address": "0.0.0.0"
    "feature-gates": "ReadWriteOncePod=true"
scheduler:
  extraArgs:
    "bind-address": "0.0.0.0"
    "feature-gates": "ReadWriteOncePod=true"
certificatesDir: "/etc/kubernetes/pki"
etcd:
  # one of local or external
  local:
    dataDir: "/var/lib/etcd"
    extraArgs:
      "listen-metrics-urls": http://0.0.0.0:2381
kubernetesVersion: "1.25.5"
networking:
  dnsDomain: cluster.local
  podSubnet: 11.0.0.0/8
  serviceSubnet: 11.96.0.0/12
#serverTLSBootstrap: true
#imageRepository: "k8s.gcr.io"

---
apiVersion: kubelet.config.k8s.io/v1beta1
kind: KubeletConfiguration
clusterDomain: cluster.local
cgroupDriver: systemd
featureGates:
  ReadWriteOncePod: true
